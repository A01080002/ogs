{{ define "main" }}

  <div class="col-xs-3">
    {{ $segments := split .RelPermalink "/" }}
    {{ $subsection := index $segments 2 }}
    <h3>
      {{ if eq $subsection "devguide"}}Developer Guide{{ end }}
      {{ if eq $subsection "benchmarks"}}Benchmarks{{ end }}
    </h3>
    <hr>
    <ul class="sidenav">
      {{ $currentPage := . }}
      {{ $currentMenu := index .Site.Menus $subsection }}
      {{ range $currentMenu }}
        {{ if .HasChildren }}
          <li class="category">{{ .Name }}</li>
          {{ range .Children }}
            <li><a href="{{ .URL }}"{{if $currentPage.IsMenuCurrent $subsection . }} class="active"{{end}}>{{ .Name }}</a></li>
          {{ end }}
        {{ end }}
      {{ end }}
    </ul>
  </div>
  <div class="col-xs-9">
    <h1>{{ .Title }}</h1>
    {{ if eq $subsection "devguide"}}
    Select OS: <a id="btn-win">Windows</a> <a id="btn-linux">Linux</a> <a id="btn-mac">macOS</a>
    {{ end }}

    {{ .Content }}

    <hr>
    {{ partial "footer-nav.html" . }}

  </div>
  {{ partial "page-info" . }}

{{ end }}

{{ define "footer" }}

  {{ $segments := split .RelPermalink "/" }}
  {{ $subsection := index $segments 2 }}
  {{ if eq $subsection "devguide"}}
  <script>
    $("#btn-win").click(function(){
      $(".win").show();
      $(".linux").hide();
      $(".mac").hide();
      $("#btn-win").addClass("active");
      $("#btn-linux").removeClass("active");
      $("#btn-mac").removeClass("active");
    });

    $("#btn-linux").click(function(){
      $(".win").hide();
      $(".linux").show();
      $(".mac").hide();
      $("#btn-win").removeClass("active");
      $("#btn-linux").addClass("active");
      $("#btn-mac").removeClass("active");
    });

    $("#btn-mac").click(function(){
      $(".win").hide();
      $(".linux").hide();
      $(".mac").show();
      $("#btn-win").removeClass("active");
      $("#btn-linux").removeClass("active");
      $("#btn-mac").addClass("active");
    });

    $( document ).ready(function() {
      $("#btn-win").click();
    });
  </script>
  {{ end }}

{{ end }}
